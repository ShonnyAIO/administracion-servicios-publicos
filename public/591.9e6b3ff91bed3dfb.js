"use strict";(self.webpackChunkkomerzio_front=self.webpackChunkkomerzio_front||[]).push([[591],{8591:(P,d,t)=>{t.r(d),t.d(d,{SignInModule:()=>J});var g=t(9808),s=t(6696),o=t(5e3),c=t(50),r=t(3075),p=t(3889),u=t(908),m=t(7322),f=t(7531),Z=t(7423);function v(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1," Requerido "),o.qZA())}function _(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1," No tiene formato de correo electronico "),o.qZA())}function x(e,i){if(1&e&&(o.TgZ(0,"mat-error"),o.YNc(1,v,2,0,"p",0),o.YNc(2,_,2,0,"p",0),o.qZA()),2&e){const n=o.oxw(2);o.ekj("error",(null==n.emailField?null:n.emailField.touched)&&(null==n.emailField?null:n.emailField.invalid)),o.xp6(1),o.Q6J("ngIf",(null==n.emailField?null:n.emailField.touched)&&(null==n.emailField?null:n.emailField.hasError("required"))),o.xp6(1),o.Q6J("ngIf",(null==n.emailField?null:n.emailField.touched)&&(null==n.emailField?null:n.emailField.hasError("email")))}}function T(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1," Requerido "),o.qZA())}function h(e,i){if(1&e&&(o.TgZ(0,"mat-error",14),o.YNc(1,T,2,0,"p",0),o.qZA()),2&e){const n=o.oxw(2);o.ekj("error",(null==n.passwField?null:n.passwField.touched)&&(null==n.passwField?null:n.passwField.invalid)),o.xp6(1),o.Q6J("ngIf",(null==n.passwField?null:n.passwField.touched)&&(null==n.passwField?null:n.passwField.hasError("required")))}}function F(e,i){if(1&e){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"p",3),o._uU(4),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",1),o.TgZ(9,"div",4),o.TgZ(10,"form",5),o.NdJ("ngSubmit",function(){return o.CHM(n),o.oxw().loginUser()}),o.TgZ(11,"mat-form-field",6),o.TgZ(12,"mat-label"),o._uU(13,"Email"),o.qZA(),o._UZ(14,"input",7),o.YNc(15,x,3,4,"mat-error",8),o.qZA(),o.TgZ(16,"mat-form-field",6),o.TgZ(17,"mat-label"),o._uU(18,"Contrase\xf1a"),o.qZA(),o._UZ(19,"input",9),o.qZA(),o.YNc(20,h,2,3,"mat-error",10),o.TgZ(21,"button",11),o._uU(22,"Iniciar sesi\xf3n"),o.qZA(),o.TgZ(23,"p",12),o._uU(24,"O"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(25,"div",1),o.TgZ(26,"div",4),o.TgZ(27,"button",13),o._uU(28," Entrar con Google "),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const n=o.oxw();o.xp6(4),o.hij("Hola, ",n.greatingText.welcome,""),o.xp6(3),o.Oqu(n.greatingText.action),o.xp6(3),o.Q6J("formGroup",n.formLogin),o.xp6(5),o.Q6J("ngIf",(null==n.emailField?null:n.emailField.touched)&&(null==n.emailField?null:n.emailField.invalid)),o.xp6(5),o.Q6J("ngIf",(null==n.passwField?null:n.passwField.touched)&&(null==n.passwField?null:n.passwField.invalid))}}function A(e,i){if(1&e){const n=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"p",3),o._uU(4),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",1),o.TgZ(9,"div",4),o.TgZ(10,"button",15),o.NdJ("click",function(){return o.CHM(n),o.oxw().route("admin")}),o._uU(11,"Ingresar como administrador"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",1),o.TgZ(13,"div",4),o.TgZ(14,"button",16),o.NdJ("click",function(){return o.CHM(n),o.oxw().route("agente")}),o._uU(15,"Ingresar como agente"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const n=o.oxw();o.xp6(4),o.hij("Hola, ",n.greatingText.welcome,""),o.xp6(3),o.Oqu(n.greatingText.action)}}let C=(()=>{class e{constructor(n,l,a){this.formBuilder=n,this.adminService=l,this.router=a,this.errorLogin=new o.vpe,this.validateUser=!1,this.error_message="",this.greatingText={welcome:"Bienvenido a Komerzio.",action:"Selecciona tu opci\xf3n de ingreso."},this.formLogin=new r.cw({}),this.loginForm()}ngOnInit(){}get emailField(){return this.formLogin.get("email")}get passwField(){return this.formLogin.get("password")}loginForm(){this.formLogin=this.formBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required]]})}loginUser(){console.log(this.formLogin.value),this.formLogin.valid?this.adminService.loginAdmin(this.formLogin.value).subscribe(n=>{console.log(n),n&&(localStorage.setItem("session",n.msg),this.router.navigate(["/conf-init"]))},n=>{console.error(n),this.errorLogin.emit(n)}):this.formLogin.markAllAsTouched()}route(n){"admin"===n?(this.validateUser=!0,this.greatingText={welcome:"Bienvenido a Komerzio.",action:"Ingresa tus credenciales para iniciar sesi\xf3n."}):"agente"===n&&this.router.navigate(["/sign-in-agente"])}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(r.qu),o.Y36(p.l),o.Y36(s.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-form-login"]],outputs:{errorLogin:"errorLogin"},decls:3,vars:2,consts:[[4,"ngIf"],[1,"row","center-xs"],[1,"col-12"],[1,"text-primary"],[1,"col-xs-10","col-sm-8","col-md-8","col-lg-8"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"komerzio-full-width"],["type","email","formControlName","email","matInput",""],[3,"error",4,"ngIf"],["formControlName","password","type","password","matInput",""],["class","alert",3,"error",4,"ngIf"],["type","submit","mat-flat-button","",1,"submit"],[1,"difference"],["type","button","mat-flat-button","",1,"g-auth"],[1,"alert"],["mat-flat-button","",1,"submit",3,"click"],["mat-flat-button","",1,"agente",3,"click"]],template:function(n,l){1&n&&(o.YNc(0,F,29,5,"div",0),o.YNc(1,A,16,2,"div",0),o._UZ(2,"app-tool-box-login")),2&n&&(o.Q6J("ngIf",l.validateUser),o.xp6(1),o.Q6J("ngIf",!l.validateUser))},directives:[g.O5,u.M,r._Y,r.JL,r.sg,m.KE,m.hX,r.Fj,f.Nt,r.JJ,r.u,Z.lW,m.TO],styles:[".submit[_ngcontent-%COMP%], .g-auth[_ngcontent-%COMP%]{width:100%;height:38px;background:#161D4B 0% 0% no-repeat padding-box;border-radius:10px;font: 12px/14px Roboto;letter-spacing:0px;color:#fff;opacity:1}.komerzio-full-width[_ngcontent-%COMP%]{width:100%;font-size:12px}.valid[_ngcontent-%COMP%]{border-color:#161d4b}.alert[_ngcontent-%COMP%]{opacity:1;transition:all .5s ease-in;color:red;text-align:left;margin-top:-4%;margin-left:4%;font-size:10px}.alert[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{opacity:1}.input-komerzio[_ngcontent-%COMP%]{background:#F5F5F5 0% 0% no-repeat padding-box;border-radius:10px;opacity:1}.mat-form-field-flex[_ngcontent-%COMP%]{border:1px solid red}.g-auth[_ngcontent-%COMP%]{background:url(google-g-icon.d8decd0a2d803e77.png) #f44336 no-repeat;background-size:5.5%;background-position:30%,0}.agente[_ngcontent-%COMP%]{background-size:5.5%;background-position:30%,0;background-color:transparent!important}.difference[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();var I=t(547),b=t(833),q=t(2329);function w(e,i){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",9),o._UZ(2,"app-error-advice",10),o.qZA(),o.qZA()),2&e){const n=o.oxw();o.xp6(2),o.Q6J("message",n.error_message)}}function L(e,i){if(1&e&&o._UZ(0,"app-banner-login",11),2&e){const n=o.oxw();o.Q6J("assets",n.assetsDecorator)}}const U=[{path:"",component:(()=>{class e{constructor(){this.error_message={msg:"",type:""},this.assetsDecorator={url:"https://firebasestorage.googleapis.com/v0/b/kenzi-dev-version.appspot.com/o/assets%2Fimages%2Flogin-banner.png?alt=media&token=419d8c17-31c6-435a-be7c-582482fbf434",name:"Komerzio",borderColor:!1}}ngOnInit(){}errorLogin(n){console.log("error event: ",n.error.msg),this.error_message.msg=n.error.msg,this.error_message.type="error",setTimeout(()=>{this.error_message={}},2e3)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-sign-in"]],decls:13,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12",2,"margin-bottom","-6%"],[4,"ngIf"],[1,"col-md-6"],[1,"container-login"],[3,"errorLogin"],[1,"col-md-6","col-xs-12"],[3,"assets",4,"ngIf"],[1,"row","center-xs"],[3,"message"],[3,"assets"]],template:function(n,l){1&n&&(o._UZ(0,"app-header"),o.TgZ(1,"div",0),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.YNc(4,w,3,1,"div",3),o.qZA(),o.qZA(),o.TgZ(5,"div",1),o.TgZ(6,"div",4),o.TgZ(7,"div",5),o.TgZ(8,"app-form-login",6),o.NdJ("errorLogin",function(N){return l.errorLogin(N)}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"div",7),o.TgZ(10,"div",5),o.YNc(11,L,1,1,"app-banner-login",8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(12,"app-footer")),2&n&&(o.xp6(4),o.Q6J("ngIf",l.error_message.msg),o.xp6(7),o.Q6J("ngIf",l.assetsDecorator))},directives:[c.G,g.O5,C,I.c,b.Y,q.M],styles:[".container-login[_ngcontent-%COMP%]{top:15%;position:relative}.container-fluid[_ngcontent-%COMP%]{padding:30px 0;grid-row-gap:15px;display:grid;height:100%}.row[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding-right:0;padding-left:0}}"]}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.Bz.forChild(U)],s.Bz]}),e})();var O=t(4065),S=t(3616),y=t(4271);let J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[g.ez,O.m,M,S.I,y.P]]}),e})()}}]);